
PY=python3

define HEADER
/**
 * This file is autogenerated, do not edit.
 * Run `make` from the scripts directory to produce splash.h
 *
 * Splashes will be stored in PROGMEM (flash).
 * If SSD1306_NO_SPLASH is defined, the splashes are omitted.
 */

#ifndef SSD1306_NO_SPLASH
/* clang-format off */
endef

define FOOTER
/* clang-format on */
#endif
endef

export HEADER
export FOOTER

splash.h: make_splash.py splash1.png splash2.png
	echo "$$HEADER" > $@
	${PY} make_splash.py splash1.png splash1 >>$@
	${PY} make_splash.py splash2.png splash2 >>$@
	echo "$$FOOTER" >> $@

splash1.js: make_splash_js.py splash1.png
	${PY} make_splash_js.py splash1.png splash1 >>$@

splash2.js: make_splash_js.py splash2.png
	${PY} make_splash_js.py splash2.png splash2 >>$@

clean:
	rm -f splash.h
	rm -f splash1.js
	rm -f splash2.js

